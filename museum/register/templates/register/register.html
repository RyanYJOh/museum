{% extends 'main/base.html' %}
{% load crispy_forms_tags %}

{% block title %} 반갑습니다. {% endblock %}

{% block content %}
<div class="row-h-80"></div>

<div class="row justify-content-center">
    <div class="col-10 col-md-6">
        <div class="row">
            <div class="col">
                <div class="text-xl">어서 들어오시죠.</div>
            </div>
        </div>
        <div class="row-h-20"></div>
        <div class="row">
            <div class="col">
                <form method='post' class='form-group card card-body' id='register-form'>{% csrf_token %}
                    <div class="row">
                        <div class="col">
                            {{form.username|as_crispy_field}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {{form.email|as_crispy_field}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {{form.password1|as_crispy_field}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {{form.password2|as_crispy_field}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col right">
                            <button class="btn btn-primary" type='submit'>가입하기</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col text-center">
                <!-- <div class="text-m">이미 자랑스러운 멤버이신가요? <a href="/login" class='underline'>로그인하기</a></div> -->
                <div class="text-m">이미 가입하셨나요? <a href="/login" class='underline'>로그인하기</a></div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })

    function hideSelfQuesBtn() {
        document.getElementById('self-ques-btn').style.display = 'none';
    }

    function changeForm() {
        // label 변경
        document.getElementsByTagName('label')[0].innerText = "아이디*";
        document.getElementsByTagName('label')[1].innerText = "이메일*";
        document.getElementsByTagName('label')[2].innerText = "패스워드*";
        document.getElementsByTagName('label')[3].innerText = "패스워드 확인*";
        
        // label 사이즈 변경
        document.getElementsByTagName('label')[0].classList.add('form-label');
        document.getElementsByTagName('label')[1].classList.add('form-label');
        document.getElementsByTagName('label')[2].classList.add('form-label');
        document.getElementsByTagName('label')[3].classList.add('form-label');
        
        // placeholder 변경
        document.getElementById('id_username').placeholder = '자주 사용하는 아이디';
        document.getElementById('id_email').placeholder = '이상한 거 안 보낼게요';
        document.getElementById('id_password1').placeholder = '영문+숫자 조합 8자 이상';
        document.getElementById('id_password2').placeholder = '실수하지 말고';

        // 패스워드 Tooltip
        var passwordForm = document.getElementById('id_password1')

        passwordForm.setAttribute('data-toggle', 'tooltip');
        passwordForm.setAttribute('data-placement', 'top');
        passwordForm.setAttribute('title', '아이디와 비슷하면 안됩니다!');
    }

    
    window.onload = hideSelfQuesBtn();
    window.onload = changeForm();
</script>

<!-- Tooltip 사용을 위한 popper.js -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
{% endblock %}