{% extends 'main/base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block css %}

{% endblock %}

{% block title %} ì˜¤ë¦¬ì§€ë„ìŠ¤ {% endblock %}

{% block banner %}
{% endblock %}

{% block content %}
<div class="row-h-40"></div>

<div class="row">
    <div class="col card card-body feed-card">
        <div class="row pc-only">
            <div class="col-9">
                <div class="home-input" onclick="location.href='/question-from-myself'">
                    <span class="home-input-placeholder text-m">
                        <svg id="icon-cursor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ed6f63" class="bi bi-cursor-text" viewBox="0 0 16 16">
                            <path d="M5 2a.5.5 0 0 1 .5-.5c.862 0 1.573.287 2.06.566.174.099.321.198.44.286.119-.088.266-.187.44-.286A4.165 4.165 0 0 1 10.5 1.5a.5.5 0 0 1 0 1c-.638 0-1.177.213-1.564.434a3.49 3.49 0 0 0-.436.294V7.5H9a.5.5 0 0 1 0 1h-.5v4.272c.1.08.248.187.436.294.387.221.926.434 1.564.434a.5.5 0 0 1 0 1 4.165 4.165 0 0 1-2.06-.566A4.561 4.561 0 0 1 8 13.65a4.561 4.561 0 0 1-.44.285 4.165 4.165 0 0 1-2.06.566.5.5 0 0 1 0-1c.638 0 1.177-.213 1.564-.434.188-.107.335-.214.436-.294V8.5H7a.5.5 0 0 1 0-1h.5V3.228a3.49 3.49 0 0 0-.436-.294A3.166 3.166 0 0 0 5.5 2.5.5.5 0 0 1 5 2zm3.352 1.355zm-.704 9.29z"/>
                          </svg> ë¬¸ë“ ë– ì˜¤ë¥´ëŠ” ìƒê°ë“¤
                    </span>
                </div>
            </div>
            <div class="col-3 center">
                <span class="text-s">ë˜ëŠ”,</span>&nbsp;&nbsp;
                <button class="btn btn-primary" id="btn-ques-home" onclick="location.href='/question-from-originals'">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ë°›ê¸°</button>
            </div>
        </div>
        <div class="row mobile-only">
            <div class="col">
                <div class="home-input" onclick="location.href='/question-from-myself'">
                    <span class="home-input-placeholder text-m">
                        <svg id="icon-cursor" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ed6f63" class="bi bi-cursor-text" viewBox="0 0 16 16">
                            <path d="M5 2a.5.5 0 0 1 .5-.5c.862 0 1.573.287 2.06.566.174.099.321.198.44.286.119-.088.266-.187.44-.286A4.165 4.165 0 0 1 10.5 1.5a.5.5 0 0 1 0 1c-.638 0-1.177.213-1.564.434a3.49 3.49 0 0 0-.436.294V7.5H9a.5.5 0 0 1 0 1h-.5v4.272c.1.08.248.187.436.294.387.221.926.434 1.564.434a.5.5 0 0 1 0 1 4.165 4.165 0 0 1-2.06-.566A4.561 4.561 0 0 1 8 13.65a4.561 4.561 0 0 1-.44.285 4.165 4.165 0 0 1-2.06.566.5.5 0 0 1 0-1c.638 0 1.177-.213 1.564-.434.188-.107.335-.214.436-.294V8.5H7a.5.5 0 0 1 0-1h.5V3.228a3.49 3.49 0 0 0-.436-.294A3.166 3.166 0 0 0 5.5 2.5.5.5 0 0 1 5 2zm3.352 1.355zm-.704 9.29z"/>
                          </svg> ë¬¸ë“ ë– ì˜¤ë¥´ëŠ” ìƒê°ë“¤
                    </span>
                </div>
            </div>
            <div class="col">
                <div class="row justify-content-center">
                    <div class="col center text-s">ë˜ëŠ”,</div>
                </div>
                <div class="row justify-content-center">
                    <div class="col center">
                        <button class="btn btn-primary" style="width: 50%" onclick="location.href='/question-from-originals'">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ë°›ê¸°</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div class="row justify-content-center">
            <div class="col left">
                <button class="btn btn-menial" onclick="SearchModal()" id='search-icon'>
                    <span class="pc-only">ê²€ìƒ‰</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                </button>
                {% if is_search_result %}
                <button class="btn btn-menial" onclick="location.href='/'">ì²˜ìŒìœ¼ë¡œ</button>
                {% endif %}
                {% if not is_search_result %}
                <button class="btn btn-menial" data-toggle='modal' data-target='#ans-us-modal'>
                    <span class="pc-only">ì§ˆë¬¸ ëª¨ì•„ë³´ê¸°</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-filter" viewBox="0 0 16 16">
                    <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                </svg>
                </button>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-xs-12 col-md-9">
        <div class="row fade-in" style='display:flex;'>
            {% for u in all_answers %}
            <div class="col card card-body feed-card">
                <!-- í”„ì‚¬, ë‚ ì§œ ì˜ì—­ -->
                <div class="row">
                    <div class="col-7 my-auto text-m">
                        <a href='/profile/{{u.author_id.username}}'>
                            {% if u.author_id.userinfo.profile_image %}
                            <img class='profile-img-list' src="{{u.author_id.userinfo.profile_image.url}}">
                            {% endif %}
                        &nbsp;{{u.author_id.userinfo.real_name}}
                        </a>
                    </div>
                    <div class="col-5 my-auto text-s right">
                        {{u.created_at}}
                    </div>
                </div>
                <br>
                <!-- íƒ€ì´í‹€ ì˜ì—­ -->
                <div class="row">
                    <div class="col text-m bolder">
                        {% if u.type == 'us' %}
                        <span style="cursor: pointer;" onclick="location.href='/all-answers/{{u.question_id.id}}'">{{u.question_id.question_no}}. {{u.question_id.title}}
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ed6f63" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"/>
                              </svg></span><span class="badge badge-dark">{{u.count_answers}}</span>
                        {% elif u.type == 'self' %}
                        {{u.question_id.title}}
                        {% endif %}
                    </div>
                </div>
                <!-- ì´ë¯¸ì§€ ì˜ì—­ -->
                {% if u.type == 'us' %}
                    {% if u.image %}
                        {% if 'random_images' in u.image.url %}
                        {% else %}
                        <div class="row list-img-container-row-home">
                            <div class="col list-img-container-col-home">
                                <img class='question-img-list' src="{{u.image.url}}"/>
                            </div>
                        </div>
                        {% endif %}
                    {% endif %}
                {% elif u.type == 'self' %}
                    {% if u.question_id.image %}
                        {% if 'random_images' in u.question_id.image.url %}
                        {% else %}
                        <div class="row list-img-container-row-home">
                            <div class="col list-img-container-col-home">
                                <img class='question-img-list' src="{{u.question_id.image.url}}"/>
                            </div>
                        </div>
                        {% endif %}
                    {% endif %}
                {% endif %}
                <br>
                <!-- Body ì˜ì—­ -->
                <div class="row">
                    <div class="col home-body textbunch truncate-home p-home">
                        {% if u.type == 'self' %}
                            {% if u.subtitle %}
                            <span class='bolder'>{{u.subtitle}}</span><br><br>
                            {% endif%}
                        {% endif %}
                        {{u.body|linebreaks}}
                    </div>
                </div>
                <br>
                <!-- Interaction ì˜ì—­ -->
                <div class="row">
                    <div class="col">
                        <div class="row row-interactions">
                            {% if u.type == 'us' %}
                            <div class="col-6 left">
                                <!-- Likes -->
                                {% if u.id in list__us_liked_by_user %}
                                <a onclick="LikeUs(id)" id="like-us-ans-id-{{u.id}}" ><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ed6f63" class="icon-cursor bi bi-heart-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                  </svg></a>
                                {% else %}
                                <a onclick="LikeUs(id)" id="like-us-ans-id-{{u.id}}" ><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-heart" viewBox="0 0 16 16">
                                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                  </svg></a>
                                {% endif %}
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Comments -->
                                <svg onclick="location.href='/originals-answer/{{u.id}}'" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-chat" viewBox="0 0 16 16">
                                    <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                </svg>
                                &nbsp;<span class="text-s">{{u.count_comments}}</span>
                            </div>
                            <div class="col-6 right">
                                <!-- To Detail -->
                                <svg onclick="ToDetailUs(id)" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-arrows-fullscreen" id="ans-click-id-{{u.id}}" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"/>
                                  </svg>
                                  &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Share -->
                                <a id='share-originals-{{u.id}}' onclick="Share(id)"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-share" viewBox="0 0 16 16">
                                    <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                                  </svg>
                                </a>
                                  &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Bookmarks -->
                                {% if u.id in list__us_saved_by_user %}
                                <a onclick="BookmarkUs(id)" id='us-ans-id-{{u.id}}'><svg class="icon-cursor bi bi-bookmark-fill" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                    </svg>
                                </a>
                                {% else %}
                                <a onclick="BookmarkUs(id)" id='us-ans-id-{{u.id}}'><svg class='icon-cursor bi bi-bookmark' id='us-ans-id-{{u.id}}' xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                </svg>
                                </a>
                                {% endif %}
                            </div>
                            {% elif u.type == 'self' %}
                            <div class="col-6 left">
                                <!-- Likes -->
                                {% if u.id in list__self_liked_by_user %}
                                <a onclick="LikeSelf(id)" id="like-self-ans-id-{{u.id}}" ><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ed6f63" class="icon-cursor bi bi-heart-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                  </svg>
                                </a>
                                {% else %}
                                <a onclick="LikeSelf(id)" id="like-self-ans-id-{{u.id}}" ><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-heart" viewBox="0 0 16 16">
                                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                  </svg>
                                </a>
                                {% endif %}
                                &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Comments -->
                                <svg onclick="location.href='/self-answer/{{u.id}}'" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-chat" viewBox="0 0 16 16">
                                    <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                </svg>
                                &nbsp;<span class="text-s">{{u.count_comments}}</span>
                            </div>
                            <div class="col-6 right">
                                <!-- To Detail -->
                                <svg onclick="ToDetailSelf(id)" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-arrows-fullscreen" id="ans-click-id-{{u.id}}" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"/>
                                  </svg>
                                  &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Share -->
                                <a id="share-self-{{u.id}}" onclick="Share(id)"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="icon-cursor bi bi-share" viewBox="0 0 16 16">
                                    <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
                                </svg>
                                </a>
                                  &nbsp;&nbsp;&nbsp;&nbsp;
                                <!-- Bookmarks -->
                                {% if u.id in list__self_saved_by_user %}
                                <a onclick="BookmarkSelf(id)" id='bookmark-self-ans-id-{{u.id}}'><svg  class="icon-cursor bi bi-bookmark-fill" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                    </svg>
                                </a>
                                {% else %}
                                <a onclick="BookmarkSelf(id)" id='bookmark-self-ans-id-{{u.id}}'><svg class='icon-cursor bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                </svg>
                                </a>
                                {% endif %}
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-h-20"></div>
            {% endfor %}

            <div class="col-12 center">
                <div class="row-h-20"></div>
                {% if all_answers.has_previous %}
                <a href="?page={{all_answers.previous_page_number}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223z"/>
                    </svg></a>
                {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-chevron-compact-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223z"/>
                    </svg>
                {% endif %}
                &nbsp;&nbsp;
                <span>{{all_answers.number}}</span>
                <span>/</span>
                <span>{{all_answers.paginator.num_pages}}</span>
                &nbsp;&nbsp;
                {% if all_answers.has_next %}
                <a href="?page={{all_answers.next_page_number}}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671z"/>
                    </svg></a>
                {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-chevron-compact-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671z"/>
                    </svg>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-md-3 pc-only">
        <div class="row justify-content-center">
            <div class="col center">
                <ul class="list-group">
                    <div class="row my-auto">
                        <div class="col col-6 left text-m bolder">ğŸ‘« ì»¤ë®¤ë‹ˆí‹°</div>
                        <div class="col col-6 right text-s my-auto underline">
                            <a href="https://open.kakao.com/o/grDFiMEd" class="theme-color">êµ¬ê²½í•˜ê¸°</a>
                        </div>
                    </div>
                    <div class="row list-group-item-home">
                        <div class="col text-s left">
                            <p>ì˜¤ë¦¬ì§€ë„ìŠ¤ëŠ” ì˜¤í”ˆ ë‹¨í†¡ë°©ì„ ìš´ì˜í•˜ê³  ìˆì–´ìš”. ë©‹ì§„ ì‚¬ëŒë“¤ê³¼ êµë¥˜í•´ë³´ì„¸ìš”!<br>
                            </p>
                        </div>
                    </div>

                    <div class="row-h-20"></div>
                    <div class="row bottom-border"></div>
                    <div class="row-h-20"></div>

                    <div class="row my-auto">
                        <div class="col col-6 left text-m bolder">ğŸ’¡ ì§ˆë¬¸ ìŠ¤í€˜ì–´</div>
                        <div class="col col-6 right text-s my-auto underline"><a href="/question-square">ë”ë³´ê¸°</a></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {% for s in square %}
                            <div class="row">
                                <div class="col text-s left card-body feed-card">
                                    <div class="row row-topless link" onclick="location.href='/question-square/answers-of/{{s.id}}'">
                                        <div class="col col-10">Q. {{s.title}}</a></div>
                                        <div class="col col-2 my-auto">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>

                    <div class="row-h-20"></div>
                    <div class="row bottom-border"></div>
                    <div class="row-h-20"></div>

                    <div class="row my-auto">
                        <div class="col col-6 left text-m bolder">ğŸ”” ìƒˆ ì†Œì‹</div>
                        <div class="col col-6 right text-s my-auto underline" id='right-list-item-news'>ë³´ëŸ¬ ê°€ê¸°</div>
                    </div>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- ####################
##### ëª¨ë‹¬ ì˜ì—­ #####
#################### -->

<!-- ì§ˆë¬¸ ëª¨ì•„ë³´ê¸° ëª¨ë‹¬ -->
<div class="modal fade" tabindex="-1" role="dialog" id="ans-us-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-l">ì§€ê¸ˆê¹Œì§€ ë‹¤ë¤„ì§„ ì§ˆë¬¸ë“¤ì´ì—ìš”</h5>
          <span type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" fill="#000"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" fill="#000"/>
              </svg></span>
            </span>
        </div>
        <div class="modal-body">
            {% for n in ques_no_answered_sofar %}
            <p class="link" id="no-{{n.question_no}}" onclick="location.href='all-answers/{{n.question_no}}'" data-dismiss="modal">
                {{n.question_no}}. {{n.title}} &nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                    <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                  </svg> <span class='text-s'>{{n.count_answers}}</span>  
            </p>
            {% endfor %}
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="NullifyFilterQuestions()" data-dismiss="modal">ì§ˆë¬¸ ëª¨ë‘ ë³´ê¸°</button>
        </div>
      </div>
    </div>
</div>

<!-- ê³µì§€ ëª¨ë‹¬ -->
<div class="modal fade" tabindex="-1" role="dialog" id="notice-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-l">ì»¤ë®¤ë‹ˆí‹°ì— ì°¸ì—¬í•˜ì„¸ìš”!</h5>
          <span type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" fill="#000"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" fill="#000"/>
              </svg></span>
            </span>
        </div>
        <div class="modal-body">
            <p class="text-m">
                ì˜¤ë¦¬ì§€ë„ìŠ¤ëŠ” ì˜¤í”ˆ ë‹¨í†¡ë°©ì„ ìš´ì˜í•˜ê³  ìˆì–´ìš”. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ìƒê°ì„ í†µí•´ ìê¸°ë‹¤ì›€ì„ ì°¾ì„ ìˆ˜ ìˆë‹µë‹ˆë‹¤. <br><br> <span class="bolder">ë©‹ì§„ ì‚¬ëŒë“¤ê³¼ êµë¥˜í•´ë³´ì„¸ìš”.</span>
            </p>
        </div>
        <div class="modal-footer center">
            <button type="button" class="btn btn-secondary" onclick="location.href='https://open.kakao.com/o/grDFiMEd'" data-dismiss="modal">ì˜¤í”ˆ ë‹¨í†¡ë°© ì°¸ì—¬í•˜ê¸°</button>
        </div>
      </div>
    </div>
</div>

<!-- ê²€ìƒ‰ ëª¨ë‹¬ -->
<div class="modal fade" tabindex="-1" role="dialog" id="search-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header text-m">
        </div>
        <form action="" method="post" class="">{%csrf_token%}
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-3">
                        {{search_form.which}}
                    </div>
                    <div class="col-md-9">
                        {{search_form.search_keyword}}
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type='submit' class="btn btn-primary">
                    ê²€ìƒ‰í•˜ê¸°
                </button>
            </div>
        </form>
      </div>
    </div>
</div>

<!-- ëª¨ë°”ì¼ : Floating button -->
<div class="row mobile-only">
    <div class="col center">
        <div class="fab link text-l ml-auto" onclick="FloatingBtn()">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="#2D2926" class="bi bi-justify" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
            </svg>
        </div>
    </div>
</div>

<!-- ëª¨ë°”ì¼ : ë”ë³´ê¸° ë©”ë‰´ ëª¨ë‹¬ -->
<div class="modal fade " tabindex="-1" role="dialog" id="menu-modal" style="text-align:center">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <!-- <div class="modal-header text-m">
        </div> -->
        <div class="modal-body center">ğŸ’¡ XXX</div>
        <div class="bottom-border"></div>
        <div class="modal-body center" onclick="CommunityModal()">ğŸ‘« <span class='bolder theme-color'>ì»¤ë®¤ë‹ˆí‹°</span></div>
        <div class="bottom-border"></div>
        <div class="modal-body center" onclick="location.href='/question-square'">ğŸ“¢ ìŠ¤í€˜ì–´</div>
        <div class="bottom-border"></div>
        <div class="modal-body center" onclick="location.href='/news'">ğŸ”” ìƒˆ ì†Œì‹</div>
      </div>
    </div>
</div>

<script>

    function BookmarkUs(id) {
        if ('{{navbar_authenticated}}' === 'True') {
            // ajaxë¡œ POST
            var postData = {
                ans_type : 'us',
                ans_us_ref : id.split('id-')[1],
                ans_self_ref : ''
            }
            console.log(postData)
            $.ajax({
                type: "POST",
                dataType: 'json',
                url: '{% url "bookmark" %}',
                data : JSON.stringify(postData)
            })

            // ë¶ë§ˆí¬ ì•„ì´ì½˜ ìƒíƒœ ë³€ê²½
            var bookmarkBtn = document.getElementById(`${id}`)
            var bookmarkIcon = bookmarkBtn.children[0]
            var bookmarkIconPath = bookmarkIcon.getElementsByTagName('path')[0]
            
            // ì €ì¥ë˜ì–´ ìˆì„ ë•Œ (bookmarked = True)
            if (bookmarkIcon.classList[2] === 'bi-bookmark-fill') {
                bookmarkIcon.classList.replace('bi-bookmark-fill', 'bi-bookmark');
                bookmarkIcon.getElementsByTagName('path')[0].removeAttribute('d');
                bookmarkIcon.getElementsByTagName('path')[0].setAttribute('d', 'M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z');
            
            // ì €ì¥ë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ (bookmarked = False)
            } else if (bookmarkIcon.classList[2] === 'bi-bookmark') {
                bookmarkIcon.classList.replace('bi-bookmark', 'bi-bookmark-fill');
                bookmarkIcon.getElementsByTagName('path')[0].removeAttribute('d');
                bookmarkIcon.getElementsByTagName('path')[0].setAttribute('d', 'M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z');
            } 
        } else {
            alert('ë¡œê·¸ì¸ì„ í•˜ë©´ ë©‹ì§„ ê¸€ë“¤ì„ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”.')
        }
    }

    function BookmarkSelf(id) {
        if ('{{navbar_authenticated}}' === 'True') {
            // ajaxë¡œ POST
            var postData = {
                ans_type : 'self',
                ans_self_ref : id.split('id-')[1],
                ans_us_ref : ''
            }
            $.ajax({
                type: "POST",
                dataType: 'json',
                url: '{% url "bookmark" %}',
                data : JSON.stringify(postData)
            })

            // ë¶ë§ˆí¬ ì•„ì´ì½˜ ìƒíƒœ ë³€ê²½ 
            var bookmarkBtn = document.getElementById(`${id}`)
            var bookmarkIcon = bookmarkBtn.children[0]
            var bookmarkIconPath = bookmarkIcon.getElementsByTagName('path')[0]
            
            // ì €ì¥ë˜ì–´ ìˆì„ ë•Œ (bookmarked = True)
            if (bookmarkIcon.classList[2] === 'bi-bookmark-fill') {
                bookmarkIcon.classList.replace('bi-bookmark-fill', 'bi-bookmark');
                bookmarkIcon.getElementsByTagName('path')[0].removeAttribute('d');
                bookmarkIcon.getElementsByTagName('path')[0].setAttribute('d', 'M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z');
            
            // ì €ì¥ë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ (bookmarked = False)
            } else if (bookmarkIcon.classList[2] === 'bi-bookmark') {
                bookmarkIcon.classList.replace('bi-bookmark', 'bi-bookmark-fill');
                bookmarkIcon.getElementsByTagName('path')[0].removeAttribute('d');
                bookmarkIcon.getElementsByTagName('path')[0].setAttribute('d', 'M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z');
            } 
        } else {
            alert('ë¡œê·¸ì¸ì„ í•˜ë©´ ë©‹ì§„ ê¸€ë“¤ì„ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”.')
        }
    }

    function LikeUs(id) {
        if ('{{navbar_authenticated}}' === 'True') {
            // ajaxë¡œ POST
            
            var postData = {
                ans_type : 'us',
                ans_us_ref : id.split('id-')[1],
                ans_self_ref : ''
            }
            console.log(postData)
            $.ajax({
                type: "POST",
                dataType: 'json',
                url: '{% url "likes" %}',
                data : JSON.stringify(postData)
            })

            // ë¶ë§ˆí¬ ì•„ì´ì½˜ ìƒíƒœ ë³€ê²½
            var likeBtn = document.getElementById(`${id}`)
            var likeIcon = likeBtn.children[0]
            var likeIconPath = likeIcon.getElementsByTagName('path')[0]
            
            // likeë˜ì–´ ìˆì„ ë•Œ (liked = True)
            if (likeIcon.classList[2] === 'bi-heart-fill') {
                likeIcon.classList.replace('bi-heart-fill', 'bi-heart');
                // ë¹„ì–´ìˆëŠ” ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('d');
                likeIcon.getElementsByTagName('path')[0].setAttribute('d', 'm8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z');
                // ìƒ‰ê¹” ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('fill');
                likeIcon.getElementsByTagName('path')[0].setAttribute('fill', 'currentColor');

            // likeë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ (liked = False)
            } else if (likeIcon.classList[2] === 'bi-heart') {
                likeIcon.classList.replace('bi-heart', 'bi-heart-fill');
                // ì±„ì›Œì ¸ìˆëŠ” ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('d');
                likeIcon.getElementsByTagName('path')[0].setAttribute('d', 'M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z');
                // ìƒ‰ê¹” ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('fill');
                likeIcon.getElementsByTagName('path')[0].setAttribute('fill', '#ed6f63');
            } 
        } else {
            alert('ë¡œê·¸ì¸ì„ í•˜ë©´ ë©‹ì§„ ê¸€ë“¤ì„ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”.')
        }
    }

    function LikeSelf(id) {
        if ('{{navbar_authenticated}}' === 'True') {
            // ajaxë¡œ POST
            var postData = {
                ans_type : 'self',
                ans_self_ref : id.split('id-')[1],
                ans_us_ref : ''
            }
            $.ajax({
                type: "POST",
                dataType: 'json',
                url: '{% url "likes" %}',
                data : JSON.stringify(postData)
            })

            // Like ì•„ì´ì½˜ ìƒíƒœ ë³€ê²½
            var likeBtn = document.getElementById(`${id}`)
            var likeIcon = likeBtn.children[0]
            var likeIconPath = likeIcon.getElementsByTagName('path')[0]
            
            // likeë˜ì–´ ìˆì„ ë•Œ (liked = True)
            if (likeIcon.classList[2] === 'bi-heart-fill') {
                likeIcon.classList.replace('bi-heart-fill', 'bi-heart');
                // ë¹„ì–´ìˆëŠ” ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('d');
                likeIcon.getElementsByTagName('path')[0].setAttribute('d', 'm8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z');
                // ìƒ‰ê¹” ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('fill');
                likeIcon.getElementsByTagName('path')[0].setAttribute('fill', 'currentColor');

            // likeë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ (liked = False)
            } else if (likeIcon.classList[2] === 'bi-heart') {
                likeIcon.classList.replace('bi-heart', 'bi-heart-fill');
                // ì±„ì›Œì ¸ìˆëŠ” ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('d');
                likeIcon.getElementsByTagName('path')[0].setAttribute('d', 'M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z');
                // ìƒ‰ê¹” ë³€ê²½
                likeIcon.getElementsByTagName('path')[0].removeAttribute('fill');
                likeIcon.getElementsByTagName('path')[0].setAttribute('fill', '#ed6f63');
            } 
        } else {
            alert('ë¡œê·¸ì¸ì„ í•˜ë©´ ë©‹ì§„ ê¸€ë“¤ì„ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”.')
        }
    }

    function TrackClicksUs(id) {
        // ajaxë¡œ POST
        var postData = {
            clicked_from : 'í™ˆ í™”ë©´',
            ans_type : 'us',
            ans_us_ref : id.split('id-')[1],
            ans_self_ref : ''
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "clicks" %}',
            data : JSON.stringify(postData)
        })
    }
    
    function TrackClicksSelf(id) {
        // ajaxë¡œ POST
        var postData = {
            clicked_from : 'í™ˆ í™”ë©´',
            ans_type : 'self',
            ans_us_ref : '',
            ans_self_ref : id.split('id-')[1]
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "clicks" %}',
            data : JSON.stringify(postData)
        })
    }

    function FilterQuestions(id) {
        var selectedQuestionNo = id.split('-')[1]
        location.href=`/filter=${selectedQuestionNo}`
    } 

    function NullifyFilterQuestions() {
        location.href='/'
    }

    function NoticeModal() {
        /*
        <ë¡œì§>
        Home í™”ë©´ì— ì§„ì…ì‹œì— ë¡œì»¬ì—ì„œ notice ì¡´ì¬ ì—¬ë¶€ ì²´í¬
        if ì—†ìœ¼ë©´, ë¡œì»¬ì— notice ì €ì¥
        elif ìˆìœ¼ë©´, ê°€ì¥ ë¨¼ì € ê²Œì‹œ ê¸°ê°„ í™•ì¸
            if ê²Œì‹œ ê¸°ê°„ ì§€ë‚¬ìŒ : notice ì‚­ì œ
            elif ê²Œì‹œ ê¸°ê°„ ì•„ì§ ì§€ë‚˜ì§€ ì•ŠìŒ : ëª¨ë‹¬ ë…¸ì¶œ ì—¬ë¶€ í™•ì¸
                if ëª¨ë‹¬ ë…¸ì¶œëœ ì  ì—†ìŒ : ëª¨ë‹¬ ë…¸ì¶œ í›„ notice ì‚­ì œ
                elif ëª¨ë‹¬ ë…¸ì¶œëœ ì  ìˆìŒ : notice ì‚­ì œ

        */

        // ì˜¤ëŠ˜ ë‚ ì§œì™€ expireDate
        const this_date = new Date();
        const year = this_date.getFullYear();
        const month = this_date.getMonth() + 1;
        const date = this_date.getDate();
        var string__today = `${year}-${month >= 10 ? month : '0' + month}-${date >= 10 ? date : '0' + date}`;
        var today = new Date(string__today);

        noticeObject = {
            'displayed' : false,
            'expiresBy' : '2022-12-31',
        }
        
        var notice = localStorage.getItem('notice_modal')
        console.log(notice)
        if (notice == null) {
            console.log('there is no NOTICE')
            localStorage.setItem('notice_modal', JSON.stringify(noticeObject))
        } else {
            noticeParsed = JSON.parse(notice)
            console.log("there IS a notice, and")
            var expireDate = new Date(noticeParsed.expiresBy);

            if (today >= expireDate) {
                console.log('the date has expired')
                localStorage.removeItem('notice_modal')    
            } else if (today < expireDate) {
                console.log('the date has not been expired, and')
                if (noticeParsed.displayed == false) {
                    console.log('there should be a modal displayed')
                    console.log($('#notice-modal'))
                    $('#notice-modal').modal('show');
                    noticeParsed.displayed = true
                    localStorage.setItem('notice_modal', JSON.stringify(noticeParsed))
                } else if (noticeParsed.displayed ==  true) {
                    console.log('the modal has already been displayed. THE END.')
                }
            }
        }
        // Expire ë‚ ì§œ ì§€ë‚¬ìœ¼ë©´ ìë™ ì‚­ì œ

    }

    function NoticeBadge() {
        /*
        <ë¡œì§>
        Home í™”ë©´ì— ì§„ì…ì‹œì— ë¡œì»¬ì—ì„œ notice ì¡´ì¬ ì—¬ë¶€ ì²´í¬
        if ì—†ìœ¼ë©´, ë¡œì»¬ì— notice ì €ì¥
        elif ìˆìœ¼ë©´, ê°€ì¥ ë¨¼ì € ê²Œì‹œ ê¸°ê°„ í™•ì¸
            if ê²Œì‹œ ê¸°ê°„ ì§€ë‚¬ìŒ : notice ì‚­ì œ
            elif ê²Œì‹œ ê¸°ê°„ ì•„ì§ ì§€ë‚˜ì§€ ì•ŠìŒ : ëª¨ë‹¬ ë…¸ì¶œ ì—¬ë¶€ í™•ì¸
                if ëª¨ë‹¬ ë…¸ì¶œëœ ì  ì—†ìŒ : ëª¨ë‹¬ ë…¸ì¶œ í›„ notice ì‚­ì œ
                elif ëª¨ë‹¬ ë…¸ì¶œëœ ì  ìˆìŒ : notice ì‚­ì œ

        */

        // ì˜¤ëŠ˜ ë‚ ì§œì™€ expireDate
        const this_date = new Date();
        const year = this_date.getFullYear();
        const month = this_date.getMonth() + 1;
        const date = this_date.getDate();
        var string__today = `${year}-${month >= 10 ? month : '0' + month}-${date >= 10 ? date : '0' + date}`;
        var today = new Date(string__today);

        noticeObject = {
            'displayed' : false,
            'expiresBy' : '2022-12-31',
        }
        
        var notice = localStorage.getItem('notice')
        var noticeParsed = JSON.parse(notice)   
        console.log(notice)
        if (notice == null) {
            console.log('there is no NOTICE')
            localStorage.setItem('notice', JSON.stringify(noticeObject))
            ShowBadge();
        } else {
            //noticeParsed = JSON.parse(notice)
            console.log("there IS a notice, and")
            var expireDate = new Date(noticeParsed.expiresBy);

            if (today >= expireDate) {
                console.log('the date has expired')
                localStorage.removeItem('notice')    
            } else if (today < expireDate) {
                console.log('the date has not been expired, and')
                if (noticeParsed.displayed == false) {
                    console.log('there should be a badge displayed')
                    
                    ShowBadge();
                    noticeParsed.displayed = true
                    localStorage.setItem('notice', JSON.stringify(noticeParsed))
                } else if (noticeParsed.displayed ==  true) {
                    console.log('the badge has already been displayed. THE END.')
                }
            }
        }
        // ë˜ëŠ” 'ìƒˆ ì†Œì‹' í´ë¦­í–ˆì„ ë•Œ hide
        var news = document.getElementById('right-list-item-news');
        news.addEventListener('click', event => {
            var notice = localStorage.getItem('notice')
            var noticeParsed = JSON.parse(notice)
            noticeParsed.displayed = true
            localStorage.setItem('notice', JSON.stringify(noticeParsed))
            location.href="/news"
        });

        // Expire ë‚ ì§œ ì§€ë‚¬ìœ¼ë©´ ìë™ ì‚­ì œ

    }

    function ToDetailUs(id) {
        var thisId = id.split('id-')[1];
        TrackClicksUs(id);
        location.href=`/originals-answer/${thisId}`
        
    }
    function ToDetailSelf(id) {
        var thisId = id.split('id-')[1];
        TrackClicksSelf(id);
        location.href=`/self-answer/${thisId}`
    }

    // ì‚¬ìš© ì•ˆ í•¨
    function DetailModal(from, postId) {
        console.log(from)
        $.ajax({
            url: '/getThisAns/'+from+'/'+postId,
            dataType: "json",
            success: function (data) {
                console.log('success')
                console.log(data)
                
                document.getElementsByClassName('detail-modal-footer')[0].setAttribute('id', from+'-'+data.id);
                document.getElementById('detail-modal-title').innerText = data.title;
                document.getElementById('detail-modal-body').innerText = data.body;
                document.getElementById('detail-modal-createdat').innerText = data.created_at;
                document.getElementById('detail-modal-img').innerHTML = `<img class="img-detail-modal" src="${data.img}">`;
                document.getElementById('detail-modal-author').innerHTML = `<a href="/profile/${data.username}"><img class='profile-img-list' src=${data.profile_img}>&nbsp;&nbsp;<span class='text-s'>${data.author}</span></a>`;
            },
            error: function (request, status, error) {
                console.log('ì‹¤íŒ¨');
            }
        });
        
        $('#detail-modal').modal()
        
        // TrackClicks
        var intPostId = parseInt(postId)
        if (from == 'originals') {
            TrackClicksUs(intPostId)
        } else {
            TrackClicksSelf(intPostId)
        }
    }

    // ì‚¬ìš© ì•ˆ í•¨
    function ToDetailPage(id) {

        var from = id.split('-')[0]
        var postId = id.split('-')[1]
        
        var currentUrl = '/' + from + '-answer' + '/' + postId
        //window.open(currentUrl, "_self");
    }

    function SearchModal() {
        $('#search-modal').modal()
    }
    
    function FloatingBtn() {
        $('#menu-modal').modal()
    }

    function Share(id) {
        var from = id.split('-')[1]
        var postId = id.split('-')[2]
        
        var currentUrl = 'https://www.originals.world/' + from + '-answer' + '/' + postId
        
        navigator.clipboard.writeText(currentUrl);
        window.alert('ì´ ê¸€ì˜ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”.');
    }

    function CommunityModal() {
        $('#notice-modal').modal()
    }
    
    function ShowBadge() {
        var listNews = document.getElementById('right-list-item-news');
        var badge = document.createElement('span')
        badge.setAttribute('class', 'badge badge-alert')
        badge.setAttribute('id', 'news-badge')
        badge.innerText = 'New'
        listNews.firstChild.appendChild(badge)
        console.log(listNews.firstChild)
    }
    function HideBadge() {
        var badge = document.getElementById('news-badge')
        badge.style.display = 'none'
        console.log('hidden')
    }

    window.onload = NoticeBadge();
    window.onload = NoticeModal();
</script>

{%endblock%}
