{% extends 'main/base.html' %}

{% block title %} {{owner_info.real_name}} {% endblock %}

{% block banner %}
<div class="row banner-row justify-content-center">
    <div class="row-h-40"></div>
    <div class="col-10 col-md-8 my-auto">
        <div class="row justify-content-center">
            <div class="col center my-auto">
                <img class='profile-img-large link' onclick="editProfile()" src='{{owner_info.profile_image.url}}'/>
            </div>
        </div>
        <div class="row-h-20"></div>
        <div class="row justify-content-center">
            <div class="col-12 col-md-9 text-m profile-intro center">
                <div class="link" onclick="editProfile()">{{owner_info.self_intro}}</div>
            </div>
        </div>
    </div>
    <div class="row-h-20"></div>
</div>
{% endblock %}

{% block content %}
<div class="row-h-40 pc-only"></div>
<div class="row-h-20 mobile-only"></div>

<!-- <div class="row justify-content-center">
    <div class="col-11 col-md-12">
        <div class="row">
            <div class="col-8 text-l left">
                {{owner_info.real_name}}의 생각들
            </div>
            {% if is_owner == 'True' %}
            <div class="col-4 text-l right">
                <button class="btn btn-menial" id="my-bookmark-icon" onclick="bookmarkToggle()">
                    <svg class = 'bookmark-icon bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                    </svg>
                </button>
            </div>
            {% else %}
            {% endif %}
        </div>
    </div>
</div> -->

<div class="row justify-content-center">
    <div class="col-11 col-md-12">
        <div class="row">
            <div class="col-12 col-md-6 text-l left">
                {{owner_info.real_name}}의 생각들
            </div>
            <div class="col-6 text-l right pc-only">
                {% if is_owner == 'True' %}
                <button class="btn btn-menial" id="my-bookmark-icon" onclick="bookmarkToggle()">
                    <svg class = 'bookmark-icon bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                    </svg>&nbsp;&nbsp;북마크
                </button>
                {% endif %}
                <button class="btn btn-menial" id="my-favorite-icon" onclick="favoriteToggle()">
                    <svg class='bi bi-star' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                    </svg>&nbsp;&nbsp;중요한 질문
                </button>
            </div>
        </div>
        <div class="row mobile-only">
            <div class="col col-wo-padding-left">
                {% if is_owner == 'True' %}
                <button class="btn btn-menial" id="my-bookmark-icon" onclick="bookmarkToggle()">
                    <svg class = 'bookmark-icon bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                    </svg>&nbsp;&nbsp;북마크한 글
                </button>
                {% endif %}
                <button class="btn btn-menial" id="my-favorite-icon" onclick="favoriteToggle()">
                    <svg class='bi bi-star' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                    </svg>&nbsp;&nbsp;중요한 질문
                </button>
            </div>
        </div>
    </div>
</div>

<div class="row-h-20 pc-only"></div>
<div class="row justify-content-center">
    <div class="col-12 col-md-6" id='profile-tab-col'>
        <div class="row justify-content-center">
            <div class="col-6 right">
                <label class='radio-btn-label'>
                    <input class="radio-btn" type='radio' name='ques-type' id='radio-orig' onclick="clickOriginals()" checked />
                    <span class="text-m" id='radio-orig-text' style='color:black; font-weight:800;'>오리지널스가 던지는 질문</span>
                </label>
                
            </div>
            <div class="col-6 ">
                <label class='radio-btn-label'>
                    <input class="radio-btn" type='radio' name='ques-type' id='radio-self' onclick="clickSelf()" style='color:grey;' />
                    <span class="text-m" id='radio-self-text' style='color:grey;'>나에게 던지는 질문</span>
                </label>
            </div>
        </div>
    </div>
</div>

<!-- 내 글 -->
<div class="row" id='my-answers'>
    <div class="col">
        <!-- 오리지널스가 던지는 질문 -->
        <div class="row ans-orig fade-in" id='' style='display:flex;'>
            {% if owner_ans_us == 'None' %}
            <div class="row-h-40"></div>
            <div class="col-12 text-center text-s">지금 나의 첫 정답을 기록해봐요.</div>
            <div class="col-12 text-center">
                <button class="btn btn-primary" onclick="location.href='/question-from-originals'">오늘의 질문 받기</button>
            </div>
            
            {% else %}
            {% for u in owner_ans_us %}
            <div class="col-12 col-md-4 author-favorite-{{u.author_favorite}}">
                <div class="row align-middle">
                    <div class="card card-body grid-card col ">
                        <a href="/originals-answer/{{u.id}}" id="my-click-id-{{u.id}}" onclick="TrackClicksUs(id)">
                            <div class="row">
                                <div class="col">
                                    <div class="text-m">
                                        {{u.question_id.question_no}}. {{u.question_id.title}}
                                        {% if u.is_shared %}
                                        {% else %}
                                         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill" viewBox="0 0 16 16">
                                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                                          </svg> 
                                        {% endif %}
                                        &nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ed6f63" class="bi bi-chat" viewBox="0 0 16 16">
                                            <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                          </svg>&nbsp;<span class="text-s" style="color: #ed6f63">{{u.count_comments}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row list-img-container-row">
                                <div class="col list-img-container-col">
                                    <img class='question-img-list' src="{{u.image.url}}" alt="none">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class='text-s link textbunch truncate'>{{u.body}}</p>
                                </div>
                            </div>
                        </a>
                        {% if is_owner == 'True' %}
                        <div class="row">
                            <div class="col my-auto right">
                                <div class='link' id='us-ans-id-{{u.id}}' onclick="favoriteUs(id)">
                                    {% if u.author_favorite %}
                                    <svg class='bi bi-star-fill' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    {% else %}
                                    <svg class='bi bi-star' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>   
            {% endfor %}
            {% endif %}
        </div>
        
        <!-- 나에게 던지는 질문 -->
        <div class="row ans-self fade-in" id='' style='display:none;'>
            {% if owner_ans_self == "None" %}
            <div class="row-h-40"></div>
            <div class="col-12 text-s text-center">아직 아무 글도 쓰지 않았어요.</div>

            {% else %}
            {% for s in owner_ans_self %}
            <div class="col-12 col-md-4 author-favorite-{{s.author_favorite}}">
                <div class="row align-middle">
                    <div class="card card-body grid-card col">
                        <a href="/self-answer/{{s.id}}" id="my-click-id-{{s.id}}" onclick="TrackClicksSelf(id)">
                            <div class="row">
                                <div class="col">
                                    <div class='text-m'>
                                        Q. {{s.question_id.title}}
                                        {% if s.is_shared %}
                                        {% else %}
                                         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill" viewBox="0 0 16 16">
                                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                                          </svg> 
                                        {% endif %}
                                        &nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ed6f63" class="bi bi-chat" viewBox="0 0 16 16">
                                            <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                          </svg>&nbsp;<span class="text-s" style="color: #ed6f63">{{s.count_comments}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row list-img-container-row">
                                <div class="col text-center list-img-container-col">
                                    <img class= 'question-img-list' src="{{s.question_id.image.url}}" alt="none"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class='text-s link text-bunch truncate'>{{s.body}}</p>
                                </div>
                            </div>
                        </a>
                        {% if is_owner == 'True' %}
                        <div class="row">
                            <div class="col my-auto right">
                                <div class='link' id='self-ans-id-{{s.id}}' onclick="favoriteSelf(id)">
                                    {% if s.author_favorite %}
                                    <svg class='bi bi-star-fill' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    {% else %}
                                    <svg class='bi bi-star' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>   
            {% endfor %}
            {% endif %}
        </div>
        
    </div>
</div>

<!-- 내가 북마크한 글 -->
<div class="row" id='my-bookmarks' style="display: none;">
    <div class="col">
        <div class="row ans-orig fade-in" id='' style='display:flex;'>
            {% if list__us_bookmarked == "None" %}
            <div class="row-h-40"></div>
            <div class="col-12 text-center text-s">아직 북마크한 글이 없어요.</div>

            {% else %}
            {% for u in list__us_bookmarked %}
            <div class="col-12 col-md-4">
                <div class="row align-middle">
                    <div class="card card-body grid-card col">
                        <a href="/originals-answer/{{u.id}}" id="bookmark-click-id-{{u.id}}" onclick="TrackClicksUs(id)">
                            <div class="row">
                                <div class="col">
                                    <div class="text-m">
                                        {{u.question_id.question_no}}. {{u.question_id.title}}
                                    </div>
                                </div>
                            </div>
                            <div class="row list-img-container-row">
                                <div class="col list-img-container-col">
                                    <img class='question-img-list' src="{{u.image.url}}" alt="none">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class='text-s link textbunch truncate'>{{u.body}}</p>
                                </div>
                            </div>
                        </a>
                        <div class="row">
                            <!-- <div class="col-2 my-auto text-center">
                                <a href='/profile/{{u.author_id.username}}'><img class='profile-img-list' src="{{u.author_id.userinfo.profile_image.url}}" alt="none"></a>
                            </div>
                            <div class="col-8 my-auto left col-wo-padding-left">
                                <div class='text-s'><a href='/profile/{{u.author_id.username}}'>{{u.author_id.userinfo.real_name}}</a></div>
                            </div> -->
                            <div class="col-10 my-auto text-s">
                                <a href='/profile/{{u.author_id.username}}'><img class='profile-img-list' src="{{u.author_id.userinfo.profile_image.url}}">&nbsp;&nbsp;&nbsp;{{u.author_id.userinfo.real_name}}</a>
                            </div>
                            <div class="col-2 my-auto text-center">
                                {% if u.id in list__us_saved_by_user %}
                                <div class='bookmark-orig' id='bookmark-us-id-{{u.id}}' onclick="BookmarkUs(id)">
                                    <svg class="bookmark-icon bi bi-bookmark-fill"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                        </svg>
                                </div>
                                {% else %}
                                <div class='bookmark-orig' id='bookmark-us-id-{{u.id}}' onclick="BookmarkUs(id)">
                                    <svg class = 'bookmark-icon bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                    </svg>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>   
            {% endfor %}
            {% endif %}
        </div>
        
        <div class="row ans-self fade-in" id='' style='display:none;'>
            {% if list__self_bookmarked == "None" %}
            <div class="row-h-40"></div>
            <div class="col-12 text-center text-s">아직 북마크한 글이 없어요.</div>

            {% else %}
            {% for s in list__self_bookmarked %}
            <div class="col-12 col-md-4">
                <div class="row align-middle">
                    <div class="card card-body grid-card col">
                        <a href="/self-answer/{{s.id}}" id="bookmark-click-id-{{s.id}}" onclick="TrackClicksSelf(id)">
                            <div class="row">
                                <div class="col">
                                    <div class='text-m'>
                                        Q. {{s.question_id.title}}
                                    </div>
                                </div>
                            </div>
                            <div class="row list-img-container-row">
                                <div class="col text-center list-img-container-col">
                                    <img class= 'question-img-list' src="{{s.question_id.image.url}}" alt="none"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class='text-s link text-bunch truncate'>{{s.body}}</p>
                                </div>
                            </div>
                        </a>
                        <div class="row">
                            <div class="col-10 my-auto text-s">
                                <a href='/profile/{{s.author_id.username}}'><img class='profile-img-list' src="{{s.author_id.userinfo.profile_image.url}}">&nbsp;&nbsp;&nbsp;{{s.author_id.userinfo.real_name}}</a>
                            </div>
                            <!-- <div class="col-2 my-auto text-center">
                                <a href='/profile/{{s.author_id.username}}'><img class='profile-img-list' src="{{s.author_id.userinfo.profile_image.url}}" alt="none"></a>
                            </div>
                            <div class="col-8 my-auto left col-wo-padding-left">
                                <div class='text-s'><a href='/profile/{{s.author_id.username}}'>{{s.author_id.userinfo.real_name}}</a></div>
                            </div> -->
                            <div class="col-2 my-auto text-center">
                                {% if s.id in list__self_saved_by_user %}
                                <div class='bookmark-self' id='bookmark-self-id-{{s.id}}' onclick="BookmarkSelf(id)">
                                    <svg class="bookmark-icon bi bi-bookmark-fill"  xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                    </svg>
                                </div>
                                {% else %}
                                <div class='bookmark-self' id='bookmark-self-id-{{s.id}}' onclick="BookmarkSelf(id)">
                                    <svg class = 'bookmark-icon bi bi-bookmark' xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                    </svg>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>   
            {% endfor %}
            {% endif %}
        </div>
        
    </div>
</div>

<script>
    // 내가 Bookmark한 글
    function bookmarkToggle() {
        var bookmarkIcon = document.getElementById('my-bookmark-icon')
        var bookmarkFilled = document.getElementById('my-bookmark-icon').getElementsByTagName('svg')[0];
        var bookmarkFilledPath = bookmarkFilled.getElementsByTagName('path')
        
        var myBookmarks = document.getElementById('my-bookmarks')
        var myAnswers = document.getElementById('my-answers')

        if (bookmarkFilled.classList[2] === 'bi-bookmark-fill') {
            bookmarkFilled.classList.replace('bi-bookmark-fill', 'bi-bookmark');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z');

            myBookmarks.style.display = 'none';
            myAnswers.style.display = 'flex';
            
        } else if (bookmarkFilled.classList[2] === 'bi-bookmark') {
            bookmarkFilled.classList.replace('bi-bookmark', 'bi-bookmark-fill');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z');

            myBookmarks.style.display = 'flex';
            myAnswers.style.display = 'none';
        }
    }

    // Bookmark 기능
    function BookmarkUs(id) {
        // ajax로 POST
        var postData = {
            ans_type : 'us',
            ans_us_ref : id.split('id-')[1],
            ans_self_ref : ''
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "bookmark" %}',
            data : JSON.stringify(postData)
        })

        // 북마크 아이콘 상태 변경
        var bookmarkIcon = document.getElementById(`${id}`)
        var bookmarkFilled = document.getElementById(`${id}`).getElementsByTagName('svg')[0];
        var bookmarkFilledPath = bookmarkFilled.getElementsByTagName('path')
        
        if (bookmarkFilled.classList[2] === 'bi-bookmark-fill') {
            bookmarkFilled.classList.replace('bi-bookmark-fill', 'bi-bookmark');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z');
            
        } else if (bookmarkFilled.classList[2] === 'bi-bookmark') {
            bookmarkFilled.classList.replace('bi-bookmark', 'bi-bookmark-fill');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z');
        }
    }

    function BookmarkSelf(id) {
        // ajax로 POST
        var postData = {
            ans_type : 'self',
            ans_self_ref : id.split('id-')[1],
            ans_us_ref: ''
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "bookmark" %}',
            data : JSON.stringify(postData)
        })

        // 북마크 아이콘 상태 변경 
        var bookmarkIcon = document.getElementById(`${id}`)
        var bookmarkFilled = document.getElementById(`${id}`).getElementsByTagName('svg')[0];
        var bookmarkFilledPath = bookmarkFilled.getElementsByTagName('path')
        
        if (bookmarkFilled.classList[2] === 'bi-bookmark-fill') {
            bookmarkFilled.classList.replace('bi-bookmark-fill', 'bi-bookmark');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z');
            
        } else if (bookmarkFilled.classList[2] === 'bi-bookmark') {
            bookmarkFilled.classList.replace('bi-bookmark', 'bi-bookmark-fill');
            bookmarkFilled.getElementsByTagName('path')[0].removeAttribute('d');
            bookmarkFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z');
        } 
    }

    // 중요한 질문
    function favoriteToggle() {
        var authorFavoriteFalse = document.getElementsByClassName('author-favorite-False');

        var favoriteIcon = document.getElementById('my-favorite-icon')
        var favoriteFilled = document.getElementById('my-favorite-icon').getElementsByTagName('svg')[0];

        if (favoriteFilled.classList[1] === 'bi-star-fill') {
            favoriteFilled.classList.replace('bi-star-fill', 'bi-star');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z');

            var i;
            for (i = 0; i < authorFavoriteFalse.length; i++) {
                authorFavoriteFalse[i].style.display = 'block';
            }
            
        } else if (favoriteFilled.classList[1] === 'bi-star') {
            favoriteFilled.classList.replace('bi-star', 'bi-star-fill');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z');
            var i;
            for (i = 0; i < authorFavoriteFalse.length; i++) {
                authorFavoriteFalse[i].style.display = 'none';
            }
        }
    }

    function favoriteUs(id) {
        // ajax로 POST
        var postData = {
            ans_us : id.split('id-')[1],
            ans_self : ''
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "author-favorite" %}',
            data : JSON.stringify(postData)
        })

        // 아이콘 상태 변경
        var favoriteIcon = document.getElementById(`${id}`)
        var favoriteFilled = document.getElementById(`${id}`).getElementsByTagName('svg')[0];
        var favoriteFilledPath = favoriteFilled.getElementsByTagName('path')
        
        if (favoriteFilled.classList[1] === 'bi-star-fill') {
            favoriteFilled.classList.replace('bi-star-fill', 'bi-star');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z');
            
        } else if (favoriteFilled.classList[1] === 'bi-star') {
            favoriteFilled.classList.replace('bi-star', 'bi-star-fill');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z');
        }
    }
    
    function favoriteSelf(id) {
        // ajax로 POST
        var postData = {
            ans_us : '',
            ans_self : id.split('id-')[1]
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "author-favorite" %}',
            data : JSON.stringify(postData)
        })

        // 아이콘 상태 변경
        var favoriteIcon = document.getElementById(`${id}`)
        var favoriteFilled = document.getElementById(`${id}`).getElementsByTagName('svg')[0];
        var favoriteFilledPath = favoriteFilled.getElementsByTagName('path')
        
        if (favoriteFilled.classList[1] === 'bi-star-fill') {
            favoriteFilled.classList.replace('bi-star-fill', 'bi-star');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z');
            
        } else if (favoriteFilled.classList[1] === 'bi-star') {
            favoriteFilled.classList.replace('bi-star', 'bi-star-fill');
            favoriteFilled.getElementsByTagName('path')[0].removeAttribute('d');
            favoriteFilled.getElementsByTagName('path')[0].setAttribute('d', 'M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z');
        }
    }
    
    // Edit Profile
    function editProfile() {
        if ('{{is_owner}}' === 'True') {
            location.href='https://www.originals.world/member/edit-userinfo/{{current_user.username}}'
        } else {}
    }

    function TrackClicksUs(id) {
        // ajax로 POST
        var postData = {
            clicked_from : '프로필 화면',
            ans_type : 'us',
            ans_us_ref : id.split('id-')[1],
            ans_self_ref : ''
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "clicks" %}',
            data : JSON.stringify(postData)
        })
    }

    function TrackClicksSelf(id) {
        // ajax로 POST
        var postData = {
            clicked_from : '프로필 화면',
            ans_type : 'self',
            ans_us_ref : '',
            ans_self_ref : id.split('id-')[1]
        }
        $.ajax({
            type: "POST",
            dataType: 'json',
            url: '{% url "clicks" %}',
            data : JSON.stringify(postData)
        })
    }
    
</script>
{% endblock %}